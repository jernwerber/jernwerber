<script type="module" defer>
  import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
  
  const data = [1, 2, 3, 4, 5];

  const height = 300;
  const width = 300;
  const margin = 30;

  const outerRadius = Math.min(width,height) / 2 - margin;

  const arcGenerator = d3.arc()
    .innerRadius(outerRadius * .57)
    .outerRadius(outerRadius)
  ;
  
  const pieGenerator = d3.pie()
    // .value(d => d)
  ;
  
  const svg = d3.create("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("viewBox", [-width /2, -height /2, width, height])
    .style("margin-inline", "auto")
    .style("max-width", "100%")
  ;
  
  svg.append("g")
    .selectAll()
    .data(pieGenerator(data))
    .join("path")
      .attr("fill", d => d3.interpolateGnBu(d.value/d3.max(data)))
      .attr("stroke", "none")
      .attr("d", arcGenerator) // SVG attribute for drawn path
  ;
  
d3.select("#d3-container").node()
  .append(svg.node());
 
</script>
<div id="d3-container"></div>